version: "2.0"

stories:

- story: happy path
  steps:
  - intent: greet
  - action: utter_greet
  - intent: mood_great
  - action: utter_happy

- story: sad path 1
  steps:
  - intent: greet
  - action: utter_greet
  - intent: mood_unhappy
  - action: utter_cheer_up
  - action: utter_did_that_help
  - intent: affirm
  - action: utter_happy

- story: sad path 2
  steps:
  - intent: greet
  - action: utter_greet
  - intent: mood_unhappy
  - action: utter_cheer_up
  - action: utter_did_that_help
  - intent: deny
  - action: utter_goodbye

- story: happy path ask timings
  steps: 
  - intent: greet
  - action: utter_greet
  - intent: ask_timings
  - action: utter_timings
  - intent: affirm
  - action: utter_goodbye

- story: ask menu
  steps: 
  - intent: greet
  - action: utter_greet
  - intent: ask_timings
  - action: utter_timings
  - intent: ask_menu
  - action: action_menu
  - action: utter_did_that_help
  - intent: affirm
  - action: utter_happy

- story: ask menu
  steps: 
  - intent: greet
  - action: utter_greet
  - intent: ask_menu
  - action: action_menu
  - intent: take_order
    entities:
      - order: ['thumps up', 'pizza', 'burger']
  - slot_was_set: 
    - order: ['thumps up', 'pizza', 'burger']
  - action: utter_ask_details
  - intent: ask_details
    entities: 
      - name: "dishant"
      - email: "dishant@gmail.com"
  - slot_was_set:
    - name: "dishant"
    - email: "dishant@gmail.com"
  - action: utter_confirm
  - action: utter_did_that_help
  - intent: affirm
  - action: utter_happy

- story: order success path
  steps:
  - intent: greet
  - action: utter_greet
  - intent: ask_menu
  - action: action_menu
  - intent: take_order
    entities:
      - order: ['thumps up', 'pizza', 'burger']
  - slot_was_set: 
    - order: ['thumps up', 'pizza', 'burger']
  - action: utter_ask_details
  - intent: ask_details
    entities: 
      - name: "dishant"
      - email: "dishant@gmail.com"
  - slot_was_set:
    - name: "dishant"
    - email: "dishant@gmail.com"
  - action: utter_confirm
  - intent: affirm
  - action: action_send_mail

- story: order failure path
  steps:
  - intent: greet
  - action: utter_greet
  - intent: ask_menu
  - action: action_menu
  - intent: take_order
    entities:
      - order: ['thumps up', 'pizza', 'burger']
  - slot_was_set: 
    - order: ['thumps up', 'pizza', 'burger']  
  - action: utter_ask_details
  - intent: ask_details
    entities: 
      - name: "dishant"
      - email: "dishant@gmail.com"
  - slot_was_set:
    - name: "dishant"
    - email: "dishant@gmail.com"
  - action: utter_confirm
  - intent: deny
  - action: utter_thank_you